{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Userstate from'./userstate.js';import{useNavigate}from'react-router-dom';import'./EditForm.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EditForm=()=>{var _states$find,_states$find$district,_states$find2,_states$find2$distric;const[Textarea,setTextarea]=useState('');const[Mobile,setMobile]=useState('');const[password,setPassword]=useState('');const[image,setImage]=useState(null);const[userdata,setUserData]=useState([]);const[editMode,setEditMode]=useState(false);const[editUserId,setEditUserId]=useState(null);const[duration,setDuration]=useState('');const[previewData,setPreviewData]=useState(null);const[setSearchResult]=useState(null);const[posts,setPosts]=useState([]);const navigate=useNavigate();const[formatter]=useState(new Intl.NumberFormat('en-US',{style:'currency',currency:'INR',minimumFractionDigits:0}));const[isTextMode,setIsTextMode]=useState(false);// New state to track text mode\nconst[isImageMode,setIsImageMode]=useState(false);const{states,state,district,category,categories,handleStateChange,handleDistrictChange,handleCategoryChange}=Userstate();const durationPrices={'2592000':99,'5184000':179,'15552000':549,'31536000':999};useEffect(()=>{fetchUsers();const interval=setInterval(()=>{const currentDate=new Date();userdata.forEach(async user=>{const userExpiryDate=new Date(user.createdAt).getTime()+user.duration;if(userExpiryDate<=currentDate.getTime()){await handleDelete(user.ID);}});},1000);return()=>clearInterval(interval);},[userdata]);const fetchUsers=async()=>{try{const response=await axios.get('http://localhost:8084');setUserData(filterNullValues(response.data));}catch(err){console.error(err);}};const filterNullValues=data=>{return data.map(post=>{const filteredPost={};for(const key in post){if(post[key]!==''&&post[key]!==0){filteredPost[key]=post[key];}}return filteredPost;});};const loadScript=src=>{return new Promise(resolve=>{const script=document.createElement('script');script.src=src;script.onload=()=>{resolve(true);};script.onerror=()=>{resolve(false);};document.body.appendChild(script);});};const displayRazorpay=async(amount,isImageUpload)=>{if(!Mobile||!password){alert('Please fill in Mobile, and Password');return;}if(Mobile.length!==10){alert('Mobile number must be exactly 10 digits');return;}if(password.length!==6){alert('Password must be exactly 6 digits');return;}const res=await loadScript('https://checkout.razorpay.com/v1/checkout.js');if(!res){alert('You are offline... Failed to load Razorpay SDK');return;}const options={key:'rzp_test_n7o7FtkWD4wV92',currency:'INR',amount:amount*100,name:'nearby',description:'Thanks for purchasing',image:'https://images.app.goo.gl/mCnzZoJ2AYPvYK6N6',handler:async function(response){const formData=new FormData();formData.append('Textarea',Textarea);if(isImageUpload&&image){formData.append('image',image);}formData.append('Mobile',Mobile);formData.append('password',password);formData.append('State',state);formData.append('District',district);formData.append('Category',category);formData.append('duration',duration*1000);formData.append('createdAt',new Date());try{await axios.post('http://localhost:8084/userdata',formData,{headers:{'Content-Type':'multipart/form-data'}});alert(\"Payment Successful! Transaction ID: \".concat(response.razorpay_payment_id));alert(\"your ad was created\");fetchUsers();resetForm();}catch(err){console.error(err);}},prefill:{name:'nearby'}};const paymentObject=new window.Razorpay(options);paymentObject.open();};const handleTextMobileSubmit=async e=>{e.preventDefault();if(!Textarea||!Mobile||!password){alert('Please fill in Textarea, Mobile, and Password');return;}const formData=new FormData();formData.append('Textarea',Textarea);formData.append('Mobile',Mobile);formData.append('password',password);formData.append('State',state);formData.append('District',district);formData.append('Category',category);formData.append('duration',duration*1000);// Convert duration to milliseconds\nsetIsTextMode(true);setIsImageMode(false);if(editMode){try{await axios.put(\"http://localhost:8084/userdata/\".concat(editUserId),formData,{headers:{'Content-Type':'multipart/form-data'}});alert('Data updated successfully');fetchUsers();resetForm();}catch(err){console.error(err);}}else{displayRazorpay(durationPrices[duration],formData,false);}};const handleImageUpload=async e=>{e.preventDefault();if(!image){alert('Please select an image to upload');return;}if(!Mobile||!password){alert('Please fill in  Mobile, and Password');return;}const formData=new FormData();formData.append('image',image);formData.append('Mobile',Mobile);formData.append('password',password);formData.append('State',state);formData.append('District',district);formData.append('Category',category);formData.append('duration',duration*1000);// Convert duration to milliseconds\nformData.append('createdAt',new Date());setIsTextMode(false);setIsImageMode(true);if(editMode){try{await axios.put(\"http://localhost:8084/userdata/\".concat(editUserId),formData,{headers:{'Content-Type':'multipart/form-data'}});alert('Data updated successfully');fetchUsers();resetForm();}catch(err){console.error(err);}}else{displayRazorpay(durationPrices[duration],formData,true);}};const handleEdit=userdata=>{setEditMode(true);setEditUserId(userdata.ID);setTextarea(userdata.Textarea);setMobile(userdata.Mobile);setPassword('');setPosts([]);// Clear the password input\n};const handleDelete=async userId=>{try{await axios.delete(\"http://localhost:8084/userdata/\".concat(userId));fetchUsers();setPosts([]);}catch(err){console.error(err);}};const handlePreview=()=>{if(!Textarea||!Mobile||!state||!district||!category){alert('Please fill in all fields to preview');return;}setPreviewData({Textarea,Mobile,State:state,District:district,Category:category});setIsTextMode(true);// Set text mode to true\nsetIsImageMode(false);setPosts(null);};const fetchPosts=async searchParams=>{try{const response=await axios.get('http://localhost:8084/search',{params:searchParams});setPosts(filterNullValues(response.data));}catch(err){console.error(err);}};const handleSearch=()=>{const searchParams={Mobile:Mobile,password:password};fetchPosts(searchParams);setPreviewData(null);setIsTextMode(false);// Set text mode to false\nsetIsImageMode(false);};const resetForm=()=>{setTextarea('');setMobile('');setPassword('');handleStateChange({target:{value:''}});handleDistrictChange({target:{value:''}});handleCategoryChange({target:{value:''}});setDuration('');setEditMode(false);setEditUserId(null);setSearchResult(null);setIsTextMode(false);// Reset text mode\nsetIsImageMode(false);};const handleImageDelete=async userId=>{try{await axios.delete(\"http://localhost:8084/userdata/\".concat(userId));fetchUsers();setPosts([]);}catch(err){console.error(err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-container fixed-top\",children:/*#__PURE__*/_jsxs(\"nav\",{class:\"navbar navbar-expand-lg navbar-light bg-light\",children:[/*#__PURE__*/_jsxs(\"a\",{class:\"navbar-brand\",href:\"#\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://i.ibb.co/9cVnhNw/Pngtree-3d-rendering-announcement-icon-8918401.png\",width:\"70\",height:\"50\",class:\"d-inline-block align-top\",alt:\"\"}),\"nearby\",/*#__PURE__*/_jsx(\"span\",{class:\"com\",children:\".com\"})]}),/*#__PURE__*/_jsx(\"button\",{class:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNavAltMarkup\",\"aria-controls\":\"navbarNavAltMarkup\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{class:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"collapse navbar-collapse\",id:\"navbarNavAltMarkup\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"navbar-nav\",children:[/*#__PURE__*/_jsx(\"a\",{class:\"nav-item nav-link active \",onClick:()=>navigate('/'),children:\"Home \"}),/*#__PURE__*/_jsx(\"a\",{class:\"nav-item nav-link\",href:\"#\",children:\"Careers\"}),/*#__PURE__*/_jsx(\"a\",{class:\"nav-item nav-link\",href:\"#\",children:\"About Us\"}),/*#__PURE__*/_jsx(\"a\",{class:\"nav-item nav-link disabled\",href:\"#\",children:\"Connect with Us\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"scroll-container\",children:/*#__PURE__*/_jsx(\"p\",{className:\"scroll-text\",children:\"\\\"The announcements will be displayed in the same language in which you enter and post them.\\\" & \\\"\\u0C2E\\u0C40\\u0C30\\u0C41 \\u0C2E\\u0C40 \\u0C2A\\u0C4D\\u0C30\\u0C15\\u0C1F\\u0C28\\u0C32\\u0C28\\u0C41 \\u0C0E\\u0C32\\u0C3E\\u0C02\\u0C1F\\u0C3F \\u0C2D\\u0C3E\\u0C37\\u0C32\\u0C4B \\u0C28\\u0C2E\\u0C4B\\u0C26\\u0C41 \\u0C1A\\u0C47\\u0C38\\u0C3F \\u0C2A\\u0C4B\\u0C38\\u0C4D\\u0C1F\\u0C4D \\u0C1A\\u0C47\\u0C38\\u0C4D\\u0C24\\u0C3E\\u0C30\\u0C4B, \\u0C05\\u0C26\\u0C47 \\u0C2D\\u0C3E\\u0C37\\u0C32\\u0C4B \\u0C05\\u0C35\\u0C3F \\u0C2A\\u0C4D\\u0C30\\u0C26\\u0C30\\u0C4D\\u0C36\\u0C3F\\u0C02\\u0C1A\\u0C2C\\u0C21\\u0C24\\u0C3E\\u0C2F\\u0C3F.\\\" & \\\"\\u0906\\u092A \\u091C\\u093F\\u0938 \\u092D\\u093E\\u0937\\u093E \\u092E\\u0947\\u0902 \\u0905\\u092A\\u0928\\u0940 \\u0918\\u094B\\u0937\\u0923\\u093E\\u090F\\u0901 \\u0926\\u0930\\u094D\\u091C \\u0914\\u0930 \\u092A\\u094B\\u0938\\u094D\\u091F \\u0915\\u0930\\u0947\\u0902\\u0917\\u0947, \\u0909\\u0938\\u0940 \\u092D\\u093E\\u0937\\u093E \\u092E\\u0947\\u0902 \\u0935\\u0947 \\u092A\\u094D\\u0930\\u0926\\u0930\\u094D\\u0936\\u093F\\u0924\\xA0\\u0915\\u0940\\xA0\\u091C\\u093E\\u090F\\u0901\\u0917\\u0940\\u0964\\\" \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"left-container\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-2 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600\",onClick:()=>navigate('/'),children:\"Home\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"hh\",children:\"Create Your Ad\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleTextMobileSubmit,children:[!isImageMode&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Textarea\",children:\"Textarea: \"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",id:\"Textarea\",name:\"Textarea\",value:Textarea,onChange:e=>setTextarea(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Mobile\",children:\"Mobile: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"Mobile\",name:\"Mobile\",value:Mobile,onChange:e=>setMobile(e.target.value),placeholder:\"Enter mobile number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"password\",name:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Create your 6 digit password\",required:true})]}),!editMode&&!isImageMode&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:state,onChange:handleStateChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select State\"}),states.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.name,children:option.name},option.name))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:district,onChange:handleDistrictChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select District\"}),(_states$find=states.find(s=>s.name===state))===null||_states$find===void 0?void 0:(_states$find$district=_states$find.districts)===null||_states$find$district===void 0?void 0:_states$find$district.map(districtOption=>/*#__PURE__*/_jsx(\"option\",{value:districtOption,children:districtOption},districtOption))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:handleCategoryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categories.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option,children:option},option))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:duration,onChange:e=>setDuration(parseInt(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Duration\"}),/*#__PURE__*/_jsx(\"option\",{value:2592000,children:\"1 month\"}),/*#__PURE__*/_jsx(\"option\",{value:5184000,children:\"2 months\"}),/*#__PURE__*/_jsx(\"option\",{value:15552000,children:\"6 months\"}),/*#__PURE__*/_jsx(\"option\",{value:31536000,children:\"12 months\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"form-group btn btn-primary mt-1\",onClick:handlePreview,children:\"Preview\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form-group btn btn-primary mt-1\",children:editMode?'Update':\"Pay $\".concat(durationPrices[duration]||0)})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"middle-container text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"label\",children:\"Ad Details\"}),previewData&&!posts&&isTextMode&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Ad:\"}),previewData.Textarea]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Phone:\"}),previewData.Mobile]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"State:\"}),previewData.State]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"District:\"}),previewData.District]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Category:\"}),previewData.Category]})]}),!previewData&&posts&&/*#__PURE__*/_jsx(\"div\",{children:posts.map(post=>/*#__PURE__*/_jsx(\"div\",{children:post.Image&&post.Mobile?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:8084/uploads/\".concat(post.Image),alt:\"\",width:\"150px\",height:\"200px\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"form-group btn btn-primary\",onClick:()=>handleImageDelete(post.ID),children:\"Delete Image\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Ad:\"}),post.Textarea]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Phone:\"}),post.Mobile]}),/*#__PURE__*/_jsx(\"button\",{className:\"form-group btn btn-primary\",onClick:()=>handleEdit(post),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"form-group btn btn-primary\",onClick:()=>handleDelete(post.ID),children:\"Delete\"})]})},post.ID))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"hh\",children:\"Image Upload\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleImageUpload,children:[!isTextMode&&/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setImage(e.target.files[0])})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:Mobile,onChange:e=>setMobile(e.target.value),placeholder:\"Enter mobile number\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Create your 6 digit password\",required:true})}),!editMode&&!isTextMode&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:state,onChange:handleStateChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select State\"}),states.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.name,children:option.name},option.name))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:district,onChange:handleDistrictChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select District\"}),(_states$find2=states.find(s=>s.name===state))===null||_states$find2===void 0?void 0:(_states$find2$distric=_states$find2.districts)===null||_states$find2$distric===void 0?void 0:_states$find2$distric.map(districtOption=>/*#__PURE__*/_jsx(\"option\",{value:districtOption,children:districtOption},districtOption))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:handleCategoryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categories.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option,children:option},option))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:duration,onChange:e=>setDuration(parseInt(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Duration\"}),/*#__PURE__*/_jsx(\"option\",{value:2592000,children:\"1 month\"}),/*#__PURE__*/_jsx(\"option\",{value:5184000,children:\"2 months\"}),/*#__PURE__*/_jsx(\"option\",{value:15552000,children:\"6 months\"}),/*#__PURE__*/_jsx(\"option\",{value:31536000,children:\"12 months\"})]})})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"form-group btn btn-primary mt-2\",children:[\"Pay $\",durationPrices[duration]||0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"hh\",children:\"Edit & Delete Your Ad\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Mobile Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:Mobile,onChange:e=>setMobile(e.target.value),className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:password,onChange:e=>setPassword(e.target.value),className:\"form-control\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-2\",onClick:()=>{if(!Mobile||!password){alert('Both Mobile and Password are required');return;}handleSearch();},children:\"Search\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"down-container text-center fixed-bottom mt-4\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Follow us on\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Email: nearbyteam4@gmail.com\"})]})]});};export default EditForm;","map":{"version":3,"names":["React","useState","useEffect","axios","Userstate","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditForm","_states$find","_states$find$district","_states$find2","_states$find2$distric","Textarea","setTextarea","Mobile","setMobile","password","setPassword","image","setImage","userdata","setUserData","editMode","setEditMode","editUserId","setEditUserId","duration","setDuration","previewData","setPreviewData","setSearchResult","posts","setPosts","navigate","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","isTextMode","setIsTextMode","isImageMode","setIsImageMode","states","state","district","category","categories","handleStateChange","handleDistrictChange","handleCategoryChange","durationPrices","fetchUsers","interval","setInterval","currentDate","Date","forEach","user","userExpiryDate","createdAt","getTime","handleDelete","ID","clearInterval","response","get","filterNullValues","data","err","console","error","map","post","filteredPost","key","loadScript","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","displayRazorpay","amount","isImageUpload","alert","length","res","options","name","description","handler","formData","FormData","append","headers","concat","razorpay_payment_id","resetForm","prefill","paymentObject","window","Razorpay","open","handleTextMobileSubmit","e","preventDefault","put","handleImageUpload","handleEdit","userId","delete","handlePreview","State","District","Category","fetchPosts","searchParams","params","handleSearch","target","value","handleImageDelete","className","children","class","href","width","height","alt","type","id","onClick","onSubmit","htmlFor","onChange","placeholder","required","option","find","s","districts","districtOption","parseInt","Image","files"],"sources":["C:/Users/kotha/OneDrive/Desktop/3/vbn/src/editform.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Userstate from './userstate.js';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './EditForm.css';\r\n\r\nconst EditForm = () => {\r\n  const [Textarea, setTextarea] = useState('');\r\n  const [Mobile, setMobile] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [image, setImage] = useState(null);\r\n  const [userdata, setUserData] = useState([]);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [editUserId, setEditUserId] = useState(null);\r\n  const [duration, setDuration] = useState('');\r\n  const [previewData, setPreviewData] = useState(null);\r\n  const [setSearchResult] = useState(null);\r\n  const [posts, setPosts] = useState([]);\r\n  const navigate = useNavigate();\r\n  const [formatter] = useState(new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: 'INR',\r\n    minimumFractionDigits: 0,\r\n  }));\r\n  const [isTextMode, setIsTextMode] = useState(false); // New state to track text mode\r\n  const [isImageMode, setIsImageMode] = useState(false);\r\n\r\n  const {\r\n    states,\r\n    state,\r\n    district,\r\n    category,\r\n    categories,\r\n    handleStateChange,\r\n    handleDistrictChange,\r\n    handleCategoryChange,\r\n  } = Userstate();\r\n\r\n  const durationPrices = {\r\n    '2592000': 99,\r\n    '5184000': 179,\r\n    '15552000': 549,\r\n    '31536000': 999,\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n    const interval = setInterval(() => {\r\n      const currentDate = new Date();\r\n      userdata.forEach(async (user) => {\r\n        const userExpiryDate = new Date(user.createdAt).getTime() + user.duration;\r\n        if (userExpiryDate <= currentDate.getTime()) {\r\n          await handleDelete(user.ID);\r\n        }\r\n      });\r\n    }, 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [userdata]);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:8084');\r\n      setUserData(filterNullValues(response.data));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const filterNullValues = (data) => {\r\n    return data.map(post => {\r\n      const filteredPost = {};\r\n      for (const key in post) {\r\n        if (post[key] !== '' && post[key] !== 0) {\r\n          filteredPost[key] = post[key];\r\n        }\r\n      }\r\n      return filteredPost;\r\n    });\r\n  };\r\n\r\n  const loadScript = (src) => {\r\n    return new Promise((resolve) => {\r\n      const script = document.createElement('script');\r\n      script.src = src;\r\n\r\n      script.onload = () => {\r\n        resolve(true);\r\n      };\r\n\r\n      script.onerror = () => {\r\n        resolve(false);\r\n      };\r\n\r\n      document.body.appendChild(script);\r\n    });\r\n  };\r\n\r\n  const displayRazorpay = async (amount, isImageUpload) => {\r\n    if (!Mobile || !password) {\r\n      alert('Please fill in Mobile, and Password');\r\n      return;\r\n    }\r\n    if (Mobile.length !== 10) {\r\n      alert('Mobile number must be exactly 10 digits');\r\n      return;\r\n    }\r\n    if (password.length !== 6) {\r\n      alert('Password must be exactly 6 digits');\r\n      return;\r\n    }\r\n  \r\n    const res = await loadScript('https://checkout.razorpay.com/v1/checkout.js');\r\n  \r\n    if (!res) {\r\n      alert('You are offline... Failed to load Razorpay SDK');\r\n      return;\r\n    }\r\n  \r\n    const options = {\r\n      key: 'rzp_test_n7o7FtkWD4wV92',\r\n      currency: 'INR',\r\n      amount: amount * 100,\r\n      name: 'nearby',\r\n      description: 'Thanks for purchasing',\r\n      image: 'https://images.app.goo.gl/mCnzZoJ2AYPvYK6N6',\r\n  \r\n      handler: async function (response) {\r\n        const formData = new FormData();\r\n        formData.append('Textarea', Textarea);\r\n        if (isImageUpload && image) {\r\n          formData.append('image', image);\r\n        }\r\n        formData.append('Mobile', Mobile);\r\n        formData.append('password', password);\r\n        formData.append('State', state);\r\n        formData.append('District', district);\r\n        formData.append('Category', category);\r\n        formData.append('duration', duration * 1000);\r\n        formData.append('createdAt', new Date());\r\n  \r\n        try {\r\n          await axios.post('http://localhost:8084/userdata', formData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' }\r\n          });\r\n          alert(`Payment Successful! Transaction ID: ${response.razorpay_payment_id}`);\r\n          alert(\"your ad was created\");\r\n          fetchUsers();\r\n          resetForm();\r\n        } catch (err) {\r\n          console.error(err);\r\n        }\r\n      },\r\n      prefill: {\r\n        name: 'nearby',\r\n      },\r\n    };\r\n  \r\n    const paymentObject = new window.Razorpay(options);\r\n    paymentObject.open();\r\n  };\r\n\r\n  const handleTextMobileSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!Textarea || !Mobile || !password) {\r\n      alert('Please fill in Textarea, Mobile, and Password');\r\n      return;\r\n    }\r\n    \r\n    const formData = new FormData();\r\n    formData.append('Textarea', Textarea);\r\n    formData.append('Mobile', Mobile);\r\n    formData.append('password', password);\r\n    formData.append('State', state);\r\n    formData.append('District', district);\r\n    formData.append('Category', category);\r\n    formData.append('duration', duration * 1000); // Convert duration to milliseconds\r\n    \r\n\r\n    setIsTextMode(true); \r\n    setIsImageMode(false);\r\n    if (editMode) {\r\n        try {\r\n          await axios.put(`http://localhost:8084/userdata/${editUserId}`, formData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' }\r\n          });\r\n          alert('Data updated successfully');\r\n          fetchUsers();\r\n          resetForm();\r\n        } catch (err) {\r\n          console.error(err);\r\n        }\r\n      } else {\r\n        displayRazorpay(durationPrices[duration], formData, false);\r\n      }\r\n    \r\n  };\r\n\r\n  const handleImageUpload = async (e) => {\r\n    e.preventDefault();\r\n    if (!image) {\r\n      alert('Please select an image to upload');\r\n      return;\r\n    }\r\n    if (!Mobile || !password) {\r\n      alert('Please fill in  Mobile, and Password');\r\n      return;\r\n    }\r\n    \r\n    const formData = new FormData();\r\n    formData.append('image', image);\r\n    formData.append('Mobile', Mobile);\r\n    formData.append('password', password);\r\n    formData.append('State', state);\r\n    formData.append('District', district);\r\n    formData.append('Category', category);\r\n    formData.append('duration', duration * 1000); // Convert duration to milliseconds\r\n    formData.append('createdAt', new Date());\r\n    \r\n    setIsTextMode(false);\r\n    setIsImageMode(true);\r\n    if (editMode) {\r\n        try {\r\n          await axios.put(`http://localhost:8084/userdata/${editUserId}`, formData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' }\r\n          });\r\n          alert('Data updated successfully');\r\n          fetchUsers();\r\n          resetForm();\r\n        } catch (err) {\r\n          console.error(err);\r\n        }\r\n      } else {\r\n        displayRazorpay(durationPrices[duration], formData, true);\r\n      }\r\n  };\r\n\r\n  const handleEdit = (userdata) => {\r\n    setEditMode(true);\r\n    setEditUserId(userdata.ID);\r\n    setTextarea(userdata.Textarea);\r\n    setMobile(userdata.Mobile);\r\n    setPassword('');\r\n    setPosts([]); // Clear the password input\r\n  };\r\n\r\n  const handleDelete = async (userId) => {\r\n    try {\r\n      await axios.delete(`http://localhost:8084/userdata/${userId}`);\r\n      fetchUsers();\r\n      setPosts([]);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handlePreview = () => {\r\n    if (!Textarea || !Mobile || !state || !district || !category) {\r\n      alert('Please fill in all fields to preview');\r\n      return;\r\n    }\r\n    setPreviewData({\r\n      Textarea,\r\n      Mobile,\r\n      State: state,\r\n      District: district,\r\n      Category: category,\r\n    });\r\n    setIsTextMode(true); // Set text mode to true\r\n    setIsImageMode(false);\r\n    setPosts(null);\r\n  };\r\n\r\n  const fetchPosts = async (searchParams) => {\r\n    try {\r\n      const response = await axios.get('http://localhost:8084/search', { params: searchParams });\r\n      setPosts(filterNullValues(response.data));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    const searchParams = { Mobile: Mobile, password: password };\r\n    fetchPosts(searchParams);\r\n    setPreviewData(null);\r\n    setIsTextMode(false); // Set text mode to false\r\n    setIsImageMode(false);\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setTextarea('');\r\n    setMobile('');\r\n    setPassword('');\r\n    handleStateChange({ target: { value: '' } });\r\n    handleDistrictChange({ target: { value: '' } });\r\n    handleCategoryChange({ target: { value: '' } });\r\n    setDuration('');\r\n    setEditMode(false);\r\n    setEditUserId(null);\r\n    setSearchResult(null);\r\n    setIsTextMode(false); // Reset text mode\r\n    setIsImageMode(false);\r\n  };\r\n\r\n  const handleImageDelete = async (userId) => {\r\n    try {\r\n      await axios.delete(`http://localhost:8084/userdata/${userId}`);\r\n      fetchUsers();\r\n      setPosts([]);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    \r\n    <div className=\"edit-form\">\r\n    <div className=\"header-container fixed-top\">\r\n        <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n          <a class=\"navbar-brand\" href=\"#\">\r\n            <img src=\"https://i.ibb.co/9cVnhNw/Pngtree-3d-rendering-announcement-icon-8918401.png\" width=\"70\" height=\"50\" class=\"d-inline-block align-top\" alt=\"\" />\r\n            nearby<span class=\"com\">.com</span>\r\n          </a>\r\n          <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span class=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div class=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n            <div class=\"navbar-nav\">\r\n              <a class=\"nav-item nav-link active \" onClick={() => navigate('/')}>Home </a>\r\n              <a class=\"nav-item nav-link\" href=\"#\">Careers</a>\r\n              <a class=\"nav-item nav-link\" href=\"#\">About Us</a>\r\n              <a class=\"nav-item nav-link disabled\" href=\"#\">Connect with Us</a>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    <div className=\"scroll-container\">\r\n        <p className=\"scroll-text\">\"The announcements will be displayed in the same language in which you enter and post them.\" & \"మీరు మీ ప్రకటనలను ఎలాంటి భాషలో నమోదు చేసి పోస్ట్ చేస్తారో, అదే భాషలో అవి ప్రదర్శించబడతాయి.\" & \"आप जिस भाषा में अपनी घोषणाएँ दर्ज और पोस्ट करेंगे, उसी भाषा में वे प्रदर्शित की जाएँगी।\" </p>\r\n      </div>\r\n\r\n      <div className=\"left-container\">\r\n      <div>\r\n      <button\r\n        className=\"btn btn-primary mt-2 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600\"\r\n        onClick={() => navigate('/')}\r\n      >\r\n        Home\r\n      </button>\r\n        <h2 className=\"hh\">Create Your Ad</h2>\r\n        <form onSubmit={handleTextMobileSubmit}>\r\n          {!isImageMode && (\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"Textarea\"  >Textarea: </label>\r\n              <textarea\r\n                type=\"text\"\r\n                id=\"Textarea\"\r\n                name=\"Textarea\"\r\n                value={Textarea}\r\n                onChange={(e) => setTextarea(e.target.value)}\r\n              />\r\n            </div>\r\n          )}\r\n          <div className=\"form-group\">\r\n          <label htmlFor=\"Mobile\">Mobile: </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"Mobile\"\r\n            name=\"Mobile\"\r\n            value={Mobile}\r\n            onChange={(e) => setMobile(e.target.value)}\r\n            placeholder=\"Enter mobile number\"\r\n          />\r\n          </div>\r\n<div className=\"form-group\">\r\n          <label htmlFor=\"password\">Password: </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"Create your 6 digit password\"\r\n            required\r\n          />\r\n          </div>\r\n          {!editMode && !isImageMode && (\r\n            <>\r\n            <div className=\"form-group\">\r\n              <select value={state} onChange={handleStateChange}>\r\n                <option value=\"\">Select State</option>\r\n                {states.map((option) => (\r\n                  <option key={option.name} value={option.name}>\r\n                    {option.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n</div>\r\n              <div className=\"form-group\">\r\n              <select value={district} onChange={handleDistrictChange}>\r\n                <option value=\"\">Select District</option>\r\n                {states\r\n                  .find((s) => s.name === state)?.districts?.map((districtOption) => (\r\n                    <option key={districtOption} value={districtOption}>\r\n                      {districtOption}\r\n                    </option>\r\n                  ))}\r\n              </select>\r\n</div>\r\n              <div className=\"form-group\">\r\n              <select value={category} onChange={handleCategoryChange}>\r\n                <option value=\"\">Select Category</option>\r\n                {categories.map((option) => (\r\n                  <option key={option} value={option}>\r\n                    {option}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n              <select value={duration} onChange={(e) => setDuration(parseInt(e.target.value))}>\r\n                <option value=\"\">Select Duration</option> \r\n                <option value={2592000}>1 month</option>\r\n                <option value={5184000}>2 months</option>\r\n                <option value={15552000}>6 months</option>\r\n                <option value={31536000}>12 months</option>\r\n              </select>\r\n              </div>\r\n              <button type=\"button\"  className=\"form-group btn btn-primary mt-1\" onClick={handlePreview}>Preview</button>\r\n            </>\r\n          )}\r\n          <button type=\"submit\" className=\"form-group btn btn-primary mt-1\">\r\n            {editMode ? 'Update' : `Pay $${durationPrices[duration] || 0}`}\r\n          </button>\r\n        </form>\r\n      </div>\r\n</div>\r\n          <div className=\"main-content\">  \r\n      <div className=\"middle-container text-center\">\r\n        <h2 className=\"label\">Ad Details</h2>\r\n        {previewData && !posts && isTextMode && (\r\n          <div>\r\n            <p><span className=\"label\">Ad:</span>{previewData.Textarea}</p>\r\n            <p><span className=\"label\">Phone:</span>{previewData.Mobile}</p>\r\n            <p><span className=\"label\">State:</span>{previewData.State}</p>\r\n            <p><span className=\"label\">District:</span>{previewData.District}</p>\r\n            <p><span className=\"label\">Category:</span>{previewData.Category}</p>\r\n          </div>\r\n        )}\r\n        {!previewData && posts && (\r\n          <div>\r\n            {posts.map((post) => (\r\n              <div key={post.ID}>\r\n                {post.Image && post.Mobile ? (\r\n                  <>\r\n                    <img\r\n                      src={`http://localhost:8084/uploads/${post.Image}`}\r\n                      alt=\"\"\r\n                      width=\"150px\"\r\n                      height=\"200px\"\r\n                    />\r\n                    <br />\r\n                    <button className=\"form-group btn btn-primary\" onClick={() => handleImageDelete(post.ID)}>Delete Image</button>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <p><span className=\"label\">Ad:</span>{post.Textarea}</p>\r\n                    <p><span className=\"label\">Phone:</span>{post.Mobile}</p>\r\n                    <button className=\"form-group btn btn-primary\" onClick={() => handleEdit(post)}>Edit</button>\r\n                    <button className=\"form-group btn btn-primary\" onClick={() => handleDelete(post.ID)}>Delete</button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n</div>\r\n      <div className=\"right-container\">\r\n        <h3 className=\"hh\">Image Upload</h3>\r\n\r\n        <form onSubmit={handleImageUpload}>\r\n          {!isTextMode && (\r\n            <div className=\"form-group\">\r\n            <input\r\n              type=\"file\"\r\n              onChange={(e) => setImage(e.target.files[0])}\r\n            />\r\n            </div>\r\n          )}\r\n          <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            value={Mobile}\r\n            onChange={(e) => setMobile(e.target.value)}\r\n            placeholder=\"Enter mobile number\"\r\n          />\r\n          </div>\r\n<div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"Create your 6 digit password\"\r\n            required\r\n          />\r\n          </div>\r\n          {!editMode && !isTextMode && (\r\n            <>\r\n            <div className=\"form-group\">\r\n              <select value={state} onChange={handleStateChange}>\r\n                <option value=\"\">Select State</option>\r\n                {states.map((option) => (\r\n                  <option key={option.name} value={option.name}>\r\n                    {option.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n</div>\r\n              <div className=\"form-group\">\r\n              <select value={district} onChange={handleDistrictChange}>\r\n                <option value=\"\">Select District</option>\r\n                {states\r\n                  .find((s) => s.name === state)?.districts?.map((districtOption) => (\r\n                    <option key={districtOption} value={districtOption}>\r\n                      {districtOption}\r\n                    </option>\r\n                  ))}\r\n              </select>\r\n</div>\r\n              <div className=\"form-group\">\r\n              <select value={category} onChange={handleCategoryChange}>\r\n                <option value=\"\">Select Category</option>\r\n                {categories.map((option) => (\r\n                  <option key={option} value={option}>\r\n                    {option}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n</div>\r\n              <div className=\"form-group\">\r\n              <select value={duration} onChange={(e) => setDuration(parseInt(e.target.value))}>\r\n                <option value=\"\">Select Duration</option> \r\n                <option value={2592000}>1 month</option>\r\n                <option value={5184000}>2 months</option>\r\n                <option value={15552000}>6 months</option>\r\n                <option value={31536000}>12 months</option>\r\n              </select>\r\n              </div>\r\n            </>\r\n          )}\r\n          <button type=\"submit\" className=\"form-group btn btn-primary mt-2\">\r\n            Pay ${durationPrices[duration] || 0}\r\n          </button>\r\n        </form>\r\n        <div className=\"\">\r\n          <h3 className=\"hh\">Edit & Delete Your Ad</h3>\r\n          <div>\r\n            <div className=\"form-group\">\r\n              <label>Mobile Number</label>\r\n              <input\r\n                type=\"text\"\r\n                value={Mobile}\r\n                onChange={(e) => setMobile(e.target.value)}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>Password</label>\r\n              <input\r\n                type=\"text\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n            <button\r\n              className=\"btn btn-primary mt-2\"\r\n              onClick={() => {\r\n                if (!Mobile || !password) {\r\n                  alert('Both Mobile and Password are required');\r\n                  return;\r\n                }\r\n                handleSearch();\r\n              }}\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"down-container text-center fixed-bottom mt-4\">\r\n        <p>Follow us on</p>\r\n        <p>Email: nearbyteam4@gmail.com</p>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
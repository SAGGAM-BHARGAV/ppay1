{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kotha\\\\OneDrive\\\\Desktop\\\\3\\\\vbn\\\\src\\\\Checkout.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport axios from \"axios\";\nimport { load } from '@cashfreepayments/cashfree-js';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Checkout() {\n  _s();\n  let cashfree;\n  let insitialzeSDK = async function () {\n    cashfree = await load({\n      mode: \"sandbox\"\n    });\n  };\n  insitialzeSDK();\n  const [orderId, setOrderId] = useState(\"\");\n  const getSessionId = async () => {\n    try {\n      let res = await axios.get(\"http://localhost:8000/payment\");\n      if (res.data && res.data.payment_session_id) {\n        console.log(res.data);\n        setOrderId(res.data.order_id);\n        return res.data.payment_session_id;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const verifyPayment = async () => {\n    try {\n      let res = await axios.post(\"http://localhost:8000/verify\", {\n        orderId: orderId\n      });\n      if (res && res.data) {\n        alert(\"payment verified\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handleClick = async e => {\n    e.preventDefault();\n    try {\n      let sessionId = await getSessionId();\n      let checkoutOptions = {\n        paymentSessionId: session_d,\n        redirectTarget: \"_modal\"\n      };\n      cashfree.checkout(checkoutOptions).then(res => {\n        console.log(\"payment initialized\");\n        verifyPayment(orderId);\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Cashfree payment getway\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClick,\n        children: \"Pay now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Checkout, \"ikHUQmPDYGO1gxyetLqSSeFoQ7M=\");\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["useState","axios","load","jsxDEV","_jsxDEV","Fragment","_Fragment","Checkout","_s","cashfree","insitialzeSDK","mode","orderId","setOrderId","getSessionId","res","get","data","payment_session_id","console","log","order_id","error","verifyPayment","post","alert","handleClick","e","preventDefault","sessionId","checkoutOptions","paymentSessionId","session_d","redirectTarget","checkout","then","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","_c","$RefreshReg$"],"sources":["C:/Users/kotha/OneDrive/Desktop/3/vbn/src/Checkout.js"],"sourcesContent":["import { useState } from 'react'\r\nimport axios from \"axios\"\r\nimport {load} from '@cashfreepayments/cashfree-js'\r\n\r\nfunction Checkout() {\r\n    let cashfree;\r\n\r\n  let insitialzeSDK = async function () {\r\n\r\n    cashfree = await load({\r\n      mode: \"sandbox\",\r\n    })\r\n  }\r\n\r\n  insitialzeSDK()\r\n\r\n  const [orderId, setOrderId] = useState(\"\")\r\n\r\n\r\n\r\n  const getSessionId = async () => {\r\n    try {\r\n      let res = await axios.get(\"http://localhost:8000/payment\")\r\n      \r\n      if(res.data && res.data.payment_session_id){\r\n\r\n        console.log(res.data)\r\n        setOrderId(res.data.order_id)\r\n        return res.data.payment_session_id\r\n      }\r\n\r\n\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  const verifyPayment = async () => {\r\n    try {\r\n      \r\n      let res = await axios.post(\"http://localhost:8000/verify\", {\r\n        orderId: orderId\r\n      })\r\n\r\n      if(res && res.data){\r\n        alert(\"payment verified\")\r\n      }\r\n\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  const handleClick = async (e) => {\r\n    e.preventDefault()\r\n    try {\r\n\r\n      let sessionId = await getSessionId()\r\n      let checkoutOptions = {\r\n        paymentSessionId : session_d,\r\n        redirectTarget:\"_modal\",\r\n      }\r\n\r\n      cashfree.checkout(checkoutOptions).then((res) => {\r\n        console.log(\"payment initialized\")\r\n\r\n        verifyPayment(orderId)\r\n      })\r\n\r\n\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n\r\n  }\r\n  return (\r\n    <>\r\n\r\n      <h1>Cashfree payment getway</h1>\r\n      <div className=\"card\">\r\n        <button onClick={handleClick}>\r\n          Pay now\r\n        </button>\r\n\r\n      </div>\r\n\r\n    </>\r\n  )\r\n}\r\nexport default Checkout;\r\n "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}